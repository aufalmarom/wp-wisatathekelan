!function(e){var r,n,t=e(window);e.fn.SectionScroll=function(){function a(){setTimeout(function(){jQuery(window).trigger("resize"),void 0!==window.tatsu&&window.tatsu.cssAnimate()},800)}if(jQuery("body").hasClass("section-scroll")){e(this);var s,i=0,o=!1,l=jQuery("#page-content").find(".tatsu-section").length;0==jQuery(".header-hero-section").length&&l--,r=function(){var e=2;jQuery("body").hasClass("be-themes-layout-layout-border-header-top")&&(e=1);var r=(t.height()-(jQuery("#wpadminbar").height()+jQuery("#header").height()+jQuery(".layout-box-bottom").height()*e))*i;jQuery("#content").css({"-webkit-transform":"translatey(-"+r+"px)","-moz-transform":"translatey(-"+r+"px)","-o-transform":"translatey(-"+r+"px)","-ms-transform":"translatey(-"+r+"px)",transform:"translatey(-"+r+"px)"}),jQuery("li.fullscreen-nav-item, div.fullscreen-nav-item-hero-section").removeClass("current-item"),jQuery("body").hasClass("header-transparent")&&jQuery("#header-inner-wrap").removeClass("background--dark").removeClass("background--light"),0==jQuery(".header-hero-section").length?(jQuery("li.fullscreen-nav-item:nth-child("+(i+1)+")").addClass("current-item"),jQuery("body").hasClass("header-transparent")&&jQuery("#header-inner-wrap").addClass(function(){return jQuery("#page-content div").children(".tatsu-section:nth-child("+(i+1)+")").attr("data-headerscheme")})):0==i?(jQuery("div.fullscreen-nav-item-hero-section").addClass("current-item"),jQuery("body").hasClass("header-transparent")&&jQuery("#header-inner-wrap").addClass(function(){return jQuery("#header-inner-wrap").attr("data-headerscheme")})):(jQuery("li.fullscreen-nav-item:nth-child("+i+")").addClass("current-item"),jQuery("body").hasClass("header-transparent")&&jQuery("#header-inner-wrap").addClass(function(){return jQuery("#page-content div").children(".tatsu-section:nth-child("+i+")").attr("data-headerscheme")}))},n=function(){jQuery(".tatsu-section.tatsu-fullscreen").find(".tatsu-vimeo-video").each(function(){var e=jQuery(this).attr("id");if(e){var r=document.getElementById(e);$f(r).api("pause")}})},jQuery.fn.translate=function(e){jQuery("html, body").scrollTop(0);var t=jQuery("div.tatsu-section").index(e);if(i=t,jQuery(".header-hero-section").length>0&&(i=t+1),-1==t)return jQuery(".fullscreen-nav-item-hero-section").trigger("click"),!1;n(),r(),a()},t.on("scroll.sectionscroll",r),t.on("resize.sectionresize",r),r(),a(),jQuery(document).on("mousewheel","body.section-scroll",function(e){jQuery(window).width()>960&&jQuery("html").hasClass("csstransforms")&&(e.preventDefault(),o||(o=!0,e.deltaY>0||e.originalEvent.detail<0?(i>0&&i--,n(),r(),a()):(i<l&&i++,n(),r(),a()),tatsu.cssAnimate(),clearTimeout(s),s=setTimeout(function(){o=!1},1e3)))}),jQuery(document).on("click",".fullscreen-nav-item",function(){var e=jQuery("li.fullscreen-nav-item").index(this);i=jQuery(".header-hero-section").length>0?e+1:e,n(),r(),a()}),jQuery(document).on("click",".fullscreen-nav-item-hero-section",function(){i=0,n(),r(),a()}),jQuery("html").addClass("section-scroll"),jQuery("body").find(".fullscreen-nav-wrap").length>0&&jQuery("body").find(".fullscreen-nav-wrap").remove(),jQuery("body").append('<div class="fullscreen-nav-wrap clearfix"><div class="fullscreen-nav-wrap-inner clearfix"><ul class="fullscreen-nav"></ul></div></div>'),jQuery(".header-hero-section").length>0&&jQuery(".fullscreen-nav-wrap-inner").prepend('<div class="fullscreen-nav-item-hero-section"></div>'),jQuery(".fullscreen-nav").empty(),jQuery("#page-content div").children(".tatsu-section").each(function(){jQuery(".fullscreen-nav").append('<li class="fullscreen-nav-item"></li>')}),jQuery("#content").css("opacity",1)}else jQuery("body").hasClass("header-transparent")&&0==jQuery("#hero-section").length&&(jQuery("#header-inner-wrap").removeClass("background--dark").removeClass("background--light"),jQuery("#header-inner-wrap").addClass(function(){return jQuery("#page-content div").children(".tatsu-section:nth-child(1)").attr("data-headerscheme")})),t.off("scroll.sectionscroll",r),t.off("resize.sectionresize",r),jQuery("#content").removeAttr("style")},jQuery(document).on("update_content",function(){jQuery("body").hasClass("no-section-scroll")&&(t.off("scroll.sectionscroll",r),t.off("resize.sectionresize",r),jQuery("#content").removeAttr("style"))})}(jQuery);