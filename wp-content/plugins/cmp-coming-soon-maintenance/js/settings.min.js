jQuery(document).ready(function(j){var t,a=document.location.hash.substring(1),s=jQuery("#csoptions").attr("action");wp.codeEditor&&wp.codeEditor.initialize("niteoCS_custom_css"),navtab=function(e){jQuery(".nav-tab-wrapper .nav-tab").removeClass("nav-tab-active"),jQuery(".nav-tab-wrapper ."+e).addClass("nav-tab-active"),jQuery(".table-wrapper."+e).css("display","block"),jQuery(".table-wrapper-css."+e).css("display","block"),jQuery(".comingsoon."+e).css("display","block"),jQuery(".table-wrapper:not(."+e+")").css("display","none"),jQuery(".table-wrapper-css:not(."+e).css("display","none"),jQuery(".comingsoon:not(."+e+")").css("display","none"),"install"==e?(jQuery(".submit").css("display","none"),jQuery("#csoptions").attr("action",s)):(jQuery(".submit").css("display","block"),jQuery("#csoptions").attr("action",s+"#"+e))},""!=a?navtab(a):jQuery(".table-wrapper-css").css("display","none"),window.onhashchange=function(){a=document.location.hash.substring(1),navtab(a)},j(".nav-tab:not(.theme-preview)").click(function(e){e.preventDefault(),a=j(this).data("tab"),document.location.hash=a}),u(".blur-range"),u(".overlay-opacity"),c("logo",!1,"image"),c("favicon",!1,"image"),c("images",!0,"image"),c("pattern",!1,"image"),c("video-thumb",!1,"image"),c("video",!1,"video"),l("analytics"),l("contact-form"),l("subscribe"),l("background-effect"),l("special-effect"),l("cmp-logo"),t="subscribe-method",jQuery("."+t).change(function(){var e=jQuery("."+t).val();e=jQuery.isNumeric(e)?"x"+e:e,jQuery("."+t+"."+e).css("display","block"),jQuery("."+t+":not(."+e+")").css("display","none")}),jQuery("."+t).first().trigger("change"),jQuery("select:not(.headings-google-font):not(.content-google-font )").select2({width:"100%",minimumResultsForSearch:-1}),jQuery("#cmp-status").click(function(){jQuery(".cmp-status input[type=radio]").prop("disabled",function(e,t){return!t}),jQuery("#cmp-status-menubar").prop("checked",function(e,t){return!t})}),jQuery(".cmp-status legend:not(.disabled)").click(function(){if(0!=jQuery("#cmp-status").prop("checked")){var e=jQuery(this).children("input");e.prop("checked",!0),jQuery(".cmp-status legend").removeClass("active"),jQuery(this).addClass("active"),e.trigger("change"),"3"==e.val()?jQuery(".redirect-inputs").fadeIn("fast"):jQuery(".redirect-inputs").fadeOut("fast")}}),jQuery(".table-wrapper h3").click(function(){jQuery(this).parent().toggleClass("closed")}),jQuery("#test-unsplash").click(function(e){e.preventDefault();var c=jQuery("#unsplash-media"),t=jQuery('#unsplash_banner select[name^="unsplash_feed"] option:selected').val(),a="",s="",n="",i=jQuery(this).data("security");switch(t){case"0":a=jQuery("#niteoCS-unsplash-0").val();break;case"1":n=jQuery("#niteoCS-unsplash-1").val();break;case"2":a=jQuery("#niteoCS-unsplash-2").val();break;case"3":a=jQuery("#niteoCS-unsplash-3").val(),s=jQuery("#niteoCS_unsplash_feat").is(":checked")?"1":"0"}if(3==t||""!=a||""!=n){var r={feed:t,url:a,feat:s,custom_str:n};jQuery(this).prop("disabled",!0),jQuery(this).html('<i class="fa fa-cog fa-spin fa-1x fa-fw"></i><span> loading..</span>'),c.html("");var o={action:"niteo_unsplash",security:i,params:r};j.post(ajaxurl,o,function(e){var t=JSON.parse(e);jQuery("#unsplash_img").remove();var a=setTimeout(function(){jQuery("#test-unsplash").prop("disabled",!1),jQuery("#test-unsplash").text("Display Unsplash Photo"),jQuery("#unsplash-media").html('<p>It seems <a href="https://status.unsplash.com/" target="_blank">Unsplash API</a> is not responding. Please try again later.</p>')},5e3);if("200"==t.response){if((t=jQuery.parseJSON(t.body))[0])var s=t[0].urls.raw+"?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&fit=max&w=588",n=t[0].user.name,i=t[0].user.links.html,r=t[0].links.html,o=t[0].id;else s=t.urls.raw+"?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&fit=max&w=588",n=t.user.name,i=t.user.links.html,r=t.links.html,o=t.id;jQuery("<img />",{src:s,id:"unsplash_img"}).one("load",function(){jQuery(this).appendTo(c),jQuery(this).fadeIn(),jQuery("#test-unsplash").prop("disabled",!1),jQuery("#test-unsplash").text("Display Unsplash Photo"),jQuery("#unsplash-media").append('<span><a href="'+r+'" target="_blank">Photo</a> (ID: '+o+') by <a href="'+i+'" target="_blank">'+n+'</a> / <a href="https://unsplash.com/" target="_blank">Unsplash</a></span>'),clearTimeout(a)})}else jQuery("#test-unsplash").prop("disabled",!1),jQuery("#test-unsplash").text("Display Unsplash Photo"),jQuery("#unsplash-media").html("<p>Error "+t.response+': <span style="text-transform:lowercase;">'+t.body+"</span></p>"),clearTimeout(a)})}else jQuery("#unsplash_img").remove()}),videoPreview=function(){var e=j(".banner-video-source").val();if(j(".video-wrapper").css("padding-top","0"),"YouTube"==e){var t;if((t=j("#niteoCS-youtube-url").val()).match(/(youtube.com)/))var a="v=",s=1;if(t.match(/(youtu.be)/)||t.match(/(vimeo.com\/)+[0-9]/))a="/",s=3;if("vimeo"==e)if((t=j("#niteoCS-vimeo-url").val()).match(/(vimeo.com\/)+[a-zA-Z]/))a="/",s=5;if(t){var n=t.split(a)[s];if(null!=n){var i=n.replace(/(&)+(.*)/,"");if("banner_youtube"==e&&t.match(/(youtu.be)/)||t.match(/(youtube.com)/))var r="https://www.youtube.com/embed/"+i+"?autoplay=0";if("banner_vimeo"==e&&t.match(/(vimeo.com\/)+[0-9]/)||t.match(/(vimeo.com\/)+[a-zA-Z]/))r="https://player.vimeo.com/video/"+i+"?autoplay=0";var o=j('<iframe src="'+r+'" allowfullscreen></iframe>');j(".video-wrapper").html(o);var c=o.height()/o.width()*100;o.css("position","absolute"),o.css("top","0"),o.css("left","0"),o.css("width","100%"),o.css("height","100%"),j(".video-wrapper").css("padding-top",c+"%"),j("#niteoCS-vimeo-url").css("border","1px solid #ddd"),j("#niteoCS-youtube-url").css("border","1px solid #ddd")}else j(".video-wrapper").text("Please enter correct "+e+" URL.").css("padding-top","0"),j("#niteoCS-vimeo-url").css("border","1px solid #d60000"),j("#niteoCS-youtube-url").css("border","1px solid #d60000")}else j(".video-wrapper").text("Please enter "+e+" URL.").css("padding-top","0"),j("#niteoCS-vimeo-url").css("border","1px solid #d60000"),j("#niteoCS-youtube-url").css("border","1px solid #d60000")}if("video/mp4"==e){var l=jQuery("#niteoCS-video-id").data("url");""!=l&&j(".video-wrapper").html('<video width="600" height="400" controls><source src="'+l+'" type="video/mp4">Your browser does not support the video tag.</video>')}},jQuery("#niteoCS-youtube-url").keyup(function(){videoPreview()}),jQuery("#csoptions .banner-video-source").change(function(){switch(jQuery("#csoptions .banner-video-source").val()){case"YouTube":jQuery(".youtube-source-input").css("display","block"),jQuery(".vimeo-source-input").css("display","none"),jQuery(".file-source-input").css("display","none");break;case"vimeo":jQuery(".youtube-source-input").css("display","none"),jQuery(".vimeo-source-input").css("display","block"),jQuery(".file-source-input").css("display","none");break;case"video/mp4":jQuery(".youtube-source-input").css("display","none"),jQuery(".vimeo-source-input").css("display","none"),jQuery(".file-source-input").css("display","block"),videoPreview();break;default:jQuery(".file-source-input").css("display","block"),jQuery(".youtube-source-input").css("display","none"),jQuery(".vimeo-source-input").css("display","none")}}),jQuery("#csoptions .banner-video-source").trigger("change"),jQuery("#csoptions .niteoCS_banner").change(function(){switch(jQuery("#csoptions .niteoCS_banner:checked").val()){case"0":jQuery("#custom_banner").css("display","block"),jQuery(".theme_background fieldset:not(#custom_banner)").css("display","none");break;case"1":jQuery("#unsplash_banner").css("display","block"),jQuery(".theme_background fieldset:not(#unsplash_banner)").css("display","none");break;case"2":jQuery("#default_banner").css("display","block"),jQuery(".theme_background fieldset:not(#default_banner)").css("display","none");break;case"3":jQuery("#graphic_pattern").css("display","block"),jQuery(".theme_background fieldset:not(#graphic_pattern)").css("display","none");break;case"4":jQuery("#solid_color").css("display","block"),jQuery(".theme_background fieldset:not(#solid_color)").css("display","none");break;case"5":jQuery("#video_banner").css("display","block"),jQuery(".theme_background fieldset:not(#video_banner)").css("display","none"),videoPreview();break;case"6":jQuery("#gradient_background").css("display","block"),jQuery(".theme_background fieldset:not(#gradient_background)").css("display","none");break;default:jQuery("#custom_banner").css("display","block"),jQuery(".theme_background fieldset:not(#custom_banner)").css("display","none")}}),jQuery("#csoptions .niteoCS_banner:first").trigger("change");var e=jQuery('#unsplash_banner select[name^="unsplash_feed"] option:selected').val();jQuery("#unsplash-feed-"+e).css("display","block"),jQuery('#unsplash_banner select[name^="unsplash_feed"]').on("change",function(){e=jQuery('#unsplash_banner select[name^="unsplash_feed"] option:selected').val(),jQuery(".unsplash-feed").css("display","none"),jQuery("#unsplash-feed-"+e).css("display","block"),jQuery("#test-unsplash").trigger("click")}),1==jQuery("#csoptions .niteoCS_banner:checked").val()&&jQuery("#test-unsplash").trigger("click"),jQuery("select.background-gradient").on("change",function(){var e=jQuery("select.background-gradient option:selected").val();"custom"==e?(jQuery(".custom-gradient").css("display","block"),jQuery(".gradient-preview").css({background:"-moz-linear-gradient(-45deg, "+jQuery("#niteoCS_gradient_one").val()+" 0%, "+jQuery("#niteoCS_gradient_two").val()+" 100%)",background:"-webkit-linear-gradient(-45deg, "+jQuery("#niteoCS_gradient_one").val()+" 0%, "+jQuery("#niteoCS_gradient_two").val()+" 100%)",background:"linear-gradient(135deg, "+jQuery("#niteoCS_gradient_one").val()+" 0%, "+jQuery("#niteoCS_gradient_two").val()+" 100%)"})):(colors=e.split(":"),jQuery(".custom-gradient").css("display","none"),jQuery(".gradient-preview").css({background:"-moz-linear-gradient(-45deg, "+colors[0]+" 0%, "+colors[1]+" 100%)",background:"-webkit-linear-gradient(-45deg, "+colors[0]+" 0%, "+colors[1]+" 100%)",background:"linear-gradient(135deg, "+colors[0]+" 0%, "+colors[1]+" 100%)"}))}).trigger("change"),jQuery("#niteoCS_banner_color").wpColorPicker({change:function(e,t){jQuery(".color-preview").css("background-color",t.color.toString())}}),jQuery("#niteoCS_gradient_one").wpColorPicker({change:function(e,t){jQuery(".gradient-preview").css({background:"-moz-linear-gradient(-45deg, "+t.color.toString()+" 0%, "+jQuery("#niteoCS_gradient_two").val()+" 100%)",background:"-webkit-linear-gradient(-45deg, "+t.color.toString()+" 0%, "+jQuery("#niteoCS_gradient_two").val()+" 100%)",background:"linear-gradient(135deg, "+t.color.toString()+" 0%, "+jQuery("#niteoCS_gradient_two").val()+" 100%)"})}}),jQuery("#niteoCS_gradient_two").wpColorPicker({change:function(e,t){jQuery(".gradient-preview").css({background:"-moz-linear-gradient(-45deg, "+jQuery("#niteoCS_gradient_one").val()+" 0%, "+t.color.toString()+" 100%)",background:"-webkit-linear-gradient(-45deg, "+jQuery("#niteoCS_gradient_one").val()+" 0%, "+t.color.toString()+" 100%)",background:"linear-gradient(135deg, "+jQuery("#niteoCS_gradient_one").val()+" 0%, "+t.color.toString()+" 100%)"})}}),jQuery('select[name^="niteoCS_banner_pattern"]').on("change",function(){var e=jQuery('select[name^="niteoCS_banner_pattern"] option:selected').val();if("custom"!=e){var t=jQuery(this).data("url");jQuery("#add-pattern").css("display","none"),jQuery(".pattern-wrapper").css("background-image","url('"+t+e+".png')")}else{t=jQuery("#niteoCS_banner_pattern_custom").val();jQuery("#add-pattern").css("display","block"),jQuery(".pattern-wrapper").css("background-image","url('"+t+"')")}}),jQuery(".heading-animation").on("change",function(){heading_anim=jQuery(".heading-animation option:selected").val(),jQuery("#heading-example").removeClass().addClass("animated "+heading_anim)}),jQuery(".content-animation").on("change",function(){heading_anim=jQuery(".content-animation option:selected").val(),jQuery("#content-example").removeClass().addClass("animated "+heading_anim)});var n,i=function(a,s,n){var e=j("#niteoCS_socialmedia").attr("value");e=j.parseJSON(e),j.each(e,function(e,t){t.name==a&&(t[s]=n)}),j("#niteoCS_socialmedia").attr("value",JSON.stringify(e))},r=j(".social-inputs"),o=function(e,t){var a=r.find('input[type="text"]');t.item.index();a.each(function(e,t){var a=j(t).data("name");i(a,"order",e)})};function c(s,t,n){var i,r=jQuery("."+s+"-wrapper"),e=jQuery("#add-"+s),o=jQuery("#delete-"+s),c="",l=s.replace("-"," ");l=l[0].toUpperCase()+l.slice(1),""!=jQuery("#niteoCS-"+s+"-id").val()&&o.css("display","block"),e.click(function(e){if(e.preventDefault(),a)a.open();else{var a=wp.media({title:"Select "+l,button:{text:"Insert "+l},multiple:t,library:{type:[n]}}).on("select",function(){var t=a.state().get("selection").toJSON();0<t.length&&(r.empty(),jQuery(t).each(function(e){i=t[e].sizes&&t[e].sizes.large?t[e].sizes.large.url:t[e].url,c+=(0===e?"":",")+t[e].id,"pattern"==s?r.css("background-image","url('"+i+"')"):"video"==s?r.append('<video width="600" height="400" controls><source src="'+i+'" type="video/mp4">Your browser does not support the video tag.</video>'):r.append('<img src="'+i+'" alt="" style="max-width:588px"/>')}),o.css("display","block")),jQuery("#niteoCS-"+s+"-id").val(c).trigger("change")}).open();"pattern"==s&&r.css("background-image","url('"+i+"')")}}),o.click(function(e){jQuery(this).css("display","none"),r.empty(),jQuery("#niteoCS-"+s+"-id").val(""),jQuery("#niteoCS-"+s+"-id").trigger("change")})}function l(t){jQuery("."+t).change(function(){var e=jQuery("."+t+":checked").val();e=jQuery.isNumeric(e)?"x"+e:e,jQuery("."+t+"-switch."+e).css("display","block"),jQuery("."+t+"-switch:not(."+e+")").css("display","none")}),jQuery("."+t).first().trigger("change")}function u(e){jQuery(e).on("input",function(){var e=jQuery(this).val();jQuery(this).parent().find("span").html(e)})}r.sortable({stop:o}),r.on("sortchange",o),(n=jQuery).fn.toggleDisabled=function(){return this.each(function(){var e,t=n(this),a=t.data("name");t.attr("disabled")?(t.prop("disabled",!1),e="1"):(t.prop("disabled",!0),e="0"),i(a,"active",e)})},jQuery('.social-inputs input[type="text"]').focusout(function(){var e=jQuery(this).data("name"),t=jQuery(this).attr("value");i(e,"url",t)}),jQuery('.social-inputs input[type="checkbox"]').click(function(e){j(this).siblings('input[type="text"]').toggleDisabled()}),jQuery(".social-media i").click(function(){var e=jQuery(this).data("name");jQuery(this).toggleClass("active"),jQuery(".social-inputs li."+e).toggleClass("active"),jQuery(".social-inputs li."+e+" input").trigger("change"),jQuery(this).hasClass("active")?i(e,"hidden","0"):i(e,"hidden","1"),jQuery(".social-media i.active").length?jQuery(".social-inputs .label").css("display","block"):jQuery(".social-inputs .label").css("display","none")}),jQuery(".social-media i.active").length&&jQuery(".social-inputs .label").css("display","block"),jQuery(".view-release").click(function(e){e.preventDefault(),$this=jQuery(this);var t=$this.attr("href");jQuery.get(t,function(e){$this.closest(".notice").find(".release-note .notes").remove(),$this.closest(".notice").find(".release-note").append('<div class="notes">'+e+"</div>")}).fail(function(){$this.closest(".notice").find(".release-note p").remove(),$this.closest(".notice").find(".release-note").append("<p>There was an error loading release notes. Please try again later.</p>")})}),jQuery(".update-theme").click(function(e){e.preventDefault();var t=j(this),a=t.parents(".notice"),s=t.data("security"),n=t.data("slug"),i=t.data("name"),r={action:"cmp_theme_update_install",security:s,file:{name:n,tmp_name:"",url:jQuery(this).data("remote_url")+"?action=download&slug="+n}};a.find(".message").html('<i class="fa fa-cog fa-spin fa-1x fa-fw"></i><span class="sr-only">Updating heme...</span><span> working hard on updating Theme...</span>'),j.post(ajaxurl,r,function(e){if("success"==(e=e.trim()))setTimeout(function(){a.removeClass("notice-warning").addClass("notice-success"),a.find(".message").html("<span> "+i+' CMP theme was updated sucessfully! </span><i class="fa fa-smile-o" aria-hidden="true"></i>')},1500);else{e=e.slice(0,-1);var t=j("p",j(e)).text();a.removeClass("notice-warning").addClass("notice-error"),a.find(".message").html('<i class="fa fa-frown-o" aria-hidden="true"></i><span> '+t+"</span>")}})}),jQuery(".theme-select").click(function(){jQuery(this).parent().find('input[name="select_theme"]').prop("checked",!0).trigger("change"),jQuery(".theme-select").removeClass("selected"),jQuery(this).parent().find(".theme-select").addClass("selected")}),jQuery(".theme-update.button").one("click",function(e){e.preventDefault();var t=j(this),a=t.closest(".theme-wrapper"),s=a.data("security"),n=a.data("slug"),i={action:"cmp_theme_update_install",security:s,file:{name:n,tmp_name:"",url:a.data("remote_url")+"?action=download&slug="+n}};t.html('<i class="fa fa-cog fa-spin fa-1x fa-fw"></i><span>Updating..</span>'),j.post(ajaxurl,i,function(e){"success"==e?setTimeout(function(){t.html('<i class="fa fa-smile-o" aria-hidden="true"></i><span>Updated!</span>'),setTimeout(function(){t.fadeOut()},1500)},1500):(e=e.slice(0,-1),t.html('<i class="fa fa-frown-o" aria-hidden="true"></i><span>Update Failed!</span>'))})}),jQuery(".theme-details").click(function(){var u=j(this),d=u.closest(".theme-wrapper"),p=d.data("slug"),y=d.data("version"),h=d.data("remote_url"),m=d.data("type"),g=d.data("purchased"),v=(d.data("freebie"),jQuery(".update-theme").data("security")),f=(d.data("price"),0),e={action:"niteo_themeinfo",security:jQuery(".theme-wrapper").data("security"),theme_slug:jQuery(this).parents(".theme-wrapper").data("slug")};j.post(ajaxurl,e,function(e){var t="",a="",s="",n="";if("true"==(e=jQuery.parseJSON(e)).result){if(jQuery("body").addClass("modal-open"),"1"==g&&(s='<span class="theme-version">Version: '+y+"</span>",n='<div class="notice notice-success notice-alt notice-large"><p>Theme is up to date.</p></div>',jQuery(".update-theme").length)){var i=jQuery(".update-theme").data("slug");if(p==i){var r=jQuery(".update-theme").data("new_ver");n='<div class="notice notice-warning notice-alt notice-large"><h3 class="notice-title">Update Available</h3><p class="message"><strong>There is a new version of '+e.name+' theme available.  <a href="'+h+"readme/"+p+'-readme.php" class="view-release">View update '+r+' notes</a> or <a href="'+window.location.href+"&action=update-cmp-theme&theme="+p+'" class="update-theme" data-security="'+v+'" data-slug="'+p+'" data-remote_url="'+h+'">Update now.</a></strong></p><div class="release-note"></div></div>'}}if("1"!=g&&"premium"==m)t="disabled ",a='<button type="button" class="theme-purchase button hide"><a href="'+d.find("a").attr("href")+'" target="_blank"><i class="fa fa-cart-arrow-down" aria-hidden="true"></i>Get Theme</a></button>';var o=e.screenshots,c="";1<Object.keys(o).length&&(c='<div class="screenshots-nav"><div class="left"><i class="fa fa-chevron-left" aria-hidden="true"></i></div><div class="right"><i class="fa fa-chevron-right" aria-hidden="true"></i></div></div>');var l=j(['<div class="theme-backdrop">','\t<div class="theme-wrap">','\t\t<div class="theme-header">','\t\t\t<button class="close dashicons dashicons-no"><span class="screen-reader-text">Close details dialog</span></button>',"\t\t</div>",'\t\t<div class="theme-about">','\t\t\t<div class="theme-screenshots">','\t\t\t\t<div class="screenshot" style="background-image:url(\''+o[0]+"')\">"+c+"</div>","\t\t\t</div>",'\t\t\t<div class="theme-info">','\t\t\t\t<h2 class="theme-name">'+e.name+s+"</h2>",'\t\t\t\t<p class="theme-author">By <a href="'+e.author_homepage+'" target="_blank">'+e.author+"</a></p>",n,a,'\t\t\t\t<div class="theme-description">'+e.description+"</div>","\t\t\t</div>","\t\t</div>",'\t\t<div class="theme-actions">','\t\t\t<button type="submit" '+t+'class="button activate" name="Submit" aria-label="Select '+e.name+'">Activate</button>','\t\t\t<a href="http://cmp.niteothemes.com/?cmp_preview=true&selector=true&theme='+p+"&utm_source=cmp&utm_medium=referral&utm_campaign="+p+'" class="button cmp-preview" target="_blank" aria-label="Preview '+e.name+'">Live Preview</a>',"\t\t</div>","\t</div>","</div>"].join("\n"));jQuery(".theme-overlay.cmp").append(l),jQuery(".theme-overlay.cmp .view-release").click(function(e){e.preventDefault();var t=(u=jQuery(this)).attr("href");jQuery.get(t,function(e){u.closest(".notice").find(".release-note .notes").remove(),u.closest(".notice").find(".release-note").append('<div class="notes">'+e+"</div>")}).fail(function(){u.closest(".notice").find(".release-note p").remove(),u.closest(".notice").find(".release-note").append("<p>There was an error loading release notes. Please try again later.</p>")})}),jQuery(".theme-overlay.cmp .close").click(function(e){e.preventDefault(),jQuery("body").removeClass("modal-open"),jQuery(".theme-overlay.cmp .theme-backdrop").fadeOut("fast")}),jQuery(".theme-overlay.cmp .activate").click(function(e){e.preventDefault(),jQuery('input[name="select_theme"]').each(function(){jQuery(this).val()==p&&(jQuery(this).prop("checked",!0),jQuery(".theme-select").removeClass("selected"),jQuery(this).parent().addClass("selected"))}),jQuery(this).submit()}),jQuery(".screenshots-nav .right").click(function(){++f==Object.keys(o).length&&(f=0),f in o&&jQuery(".screenshot").css("background-image","url('"+o[f]+"')")}),jQuery(".screenshots-nav .left").click(function(){--f<0&&(f=Object.keys(o).length-1),f in o&&jQuery(".screenshot").css("background-image","url('"+o[f]+"')")})}})}),jQuery("#connect-mailchimp").click(function(e){e.preventDefault();var t=jQuery('input[name="niteoCS_mailchimp_apikey"]').val(),a=jQuery(this).data("security"),s=jQuery(this);if(""!=t){var n={apikey:t,security:a};jQuery(this).prop("disabled",!0),jQuery(this).html('<i class="fa fa-cog fa-spin fa-1x fa-fw"></i><span> retrieving lists..</span>');var i={action:"cmp_mailchimp_list_ajax",security:a,params:n};j.post(ajaxurl,i,function(e){var t=JSON.parse(e);200==t.response?(j("#mailchimp-lists-select").empty().prop("disabled",!1),j.each(t.lists,function(e,t){j("#mailchimp-lists-select").append('<option value="'+t.id+'">'+t.name+"</option>")})):j("#mailchimp-lists-select").empty().prop("disabled",!0).html('<option value="error">'+t.message+"</option>").trigger("change"),s.html("Retrieve Lists"),s.prop("disabled",!1)}).fail(function(){s.html("Retrieve Lists"),s.prop("disabled",!1)})}})});